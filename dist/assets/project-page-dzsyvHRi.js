import{g as r,S as f,b as y,L as w,c as b}from"./lenis-DD0kB4Ju.js";const g=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function E(){let e=document.getElementById("portal-transition");return e||(e=document.createElement("div"),e.id="portal-transition",e.setAttribute("aria-hidden","true"),e.dataset.theme="home",e.innerHTML=`
    <div class="portal-veil"></div>
    <div class="portal-core"></div>
    <p class="portal-label">Entering</p>
  `,document.body.appendChild(e),e)}function v(e){const t=e.getAttribute("href");return!(!t||t.startsWith("#")||e.target&&e.target!=="_self"||e.hasAttribute("download")||e.rel&&e.rel.includes("external"))}function I(e){try{return new URL(e.href,window.location.href).origin===window.location.origin}catch{return!1}}function L(){const e=E(),t=e.querySelector(".portal-label"),s=e.querySelector(".portal-core");if(!t||!s)return;sessionStorage.getItem("portal-nav-pending")&&(sessionStorage.removeItem("portal-nav-pending"),g?(r.set(e,{autoAlpha:0}),e.classList.remove("is-entering")):(e.classList.add("is-entering"),r.set(e,{autoAlpha:1,"--portal-scale":1.2}),r.set(t,{autoAlpha:1}),r.to(e,{autoAlpha:0,duration:.95,ease:"power2.out",onComplete:()=>e.classList.remove("is-entering")}),r.to(e,{"--portal-scale":0,duration:.85,ease:"power3.out"}),r.to(t,{autoAlpha:0,duration:.6,ease:"power2.out"}))),document.addEventListener("click",a=>{const n=a.target.closest("a[href]");if(!n||!v(n)||!I(n)||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)return;const o=new URL(n.href,window.location.href);if(o.href===window.location.href)return;if(a.preventDefault(),g){window.location.href=o.href;return}e.classList.add("is-active"),e.dataset.theme=n.dataset.portalTheme||"home",t.textContent=n.dataset.portalLabel||"Entering",r.killTweensOf([e,s,t]),r.set(e,{autoAlpha:1,"--portal-scale":0}),r.set(t,{autoAlpha:0,y:10});const i=r.timeline({defaults:{ease:"power3.inOut"},onComplete:()=>{sessionStorage.setItem("portal-nav-pending","1"),window.location.href=o.href}});i.to(e,{"--portal-scale":1.18,duration:.72},0),i.to(s,{rotate:34,duration:.72},0),i.to(t,{autoAlpha:1,y:0,duration:.34,ease:"power2.out"},.08)})}r.registerPlugin(f);const u=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function d(e,t,s){const l=document.createElement(e);return t&&(l.className=t),s&&(l.textContent=s),l}function A(e){document.title=`${e.title} | Vishruth Meda`,document.body.dataset.theme=e.theme,document.documentElement.style.setProperty("--project-accent",e.accent),document.documentElement.style.setProperty("--project-secondary",e.secondary),document.getElementById("project-kicker").textContent=e.projectTag,document.getElementById("project-title").textContent=e.title,document.getElementById("project-subtitle").textContent=e.subtitle,document.getElementById("project-impact-note").textContent=e.impact;const t=document.getElementById("project-metrics");e.metrics.forEach(c=>{const h=d("article","metric-card reveal");h.append(d("p","label",c.label),d("p","value",c.value)),t.appendChild(h)});const s=document.getElementById("project-chapters");e.chapters.forEach(c=>s.appendChild(d("li","reveal",c)));const l=document.getElementById("project-stack");e.stack.forEach(c=>l.appendChild(d("span","stack-pill reveal",c)));const{previous:a,next:n}=y(e.id),o=document.getElementById("project-prev"),i=document.getElementById("project-next"),p=document.getElementById("project-jump"),m=document.querySelector(".project-back");o.href=a.path,o.dataset.portalTheme=a.theme,o.dataset.portalLabel=a.projectTag,o.querySelector("strong").textContent=a.title,i.href=n.path,i.dataset.portalTheme=n.theme,i.dataset.portalLabel=n.projectTag,i.querySelector("strong").textContent=n.title,p.href="/index.html#projects",p.dataset.portalTheme="home",p.dataset.portalLabel="Portfolio",m.href="/index.html#projects",m.dataset.portalTheme="home",m.dataset.portalLabel="Portfolio"}function T(){if(u)return null;const e=new w({duration:1.08,smoothWheel:!0,wheelMultiplier:.92}),t=s=>{e.raf(s),requestAnimationFrame(t)};return requestAnimationFrame(t),e.on("scroll",f.update),e}function C(e){if(r.utils.toArray(".reveal").forEach(o=>{r.to(o,{opacity:1,y:0,duration:u?0:.86,ease:"power3.out",scrollTrigger:u?void 0:{trigger:o,start:"top 86%",once:!0}})}),u)return;const s=r.utils.toArray(".project-section"),l=r.utils.toArray("#project-chapters li"),a=r.utils.toArray(".metric-card"),n=r.utils.toArray(".stack-pill");r.fromTo(".project-title",{y:28,opacity:0,filter:"blur(10px)"},{y:0,opacity:1,filter:"blur(0px)",duration:.92,ease:"power3.out"}),e.theme==="ledger"?r.fromTo(a,{y:28,scale:.95,rotateY:-8},{y:0,scale:1,rotateY:0,stagger:.08,duration:.78,ease:"power3.out",scrollTrigger:{trigger:"#project-metrics",start:"top 82%"}}):e.theme==="forge"?l.forEach((o,i)=>{r.fromTo(o,{x:i%2===0?-66:66,opacity:.2},{x:0,opacity:1,duration:.9,ease:"power3.out",scrollTrigger:{trigger:o,start:"top 86%"}})}):e.theme==="signal"?n.forEach((o,i)=>{r.to(o,{y:()=>Math.sin(i*.6)*9,repeat:-1,yoyo:!0,duration:1.3+i%3*.2,ease:"sine.inOut"})}):e.theme==="citadel"&&s.forEach(o=>{r.fromTo(o,{scale:.96,opacity:.78},{scale:1,opacity:1,ease:"none",scrollTrigger:{trigger:o,start:"top 90%",end:"top 48%",scrub:!0}})})}async function j(){const e=document.body.dataset.projectId||"finance-wizard",t=b(e);L(),A(t),T(),C(t),f.refresh()}j();
